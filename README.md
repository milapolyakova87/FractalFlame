# Генератор фрактального пламени

Мой проект реализует алгоритм генерации **фрактального пламени** — сложных и визуально 
эффектных фрактальных структур, создаваемых с помощью итерированных функций. 
Более подробно об алгоритме можно прочитать в оригинальной статье Скотта Дрейвса:  
["The Fractal Flame Algorithm"](https://flam3.com/flame_draves.pdf).

---

## Примеры сгенерированных изображений

Ниже представлены неcколько фракталов в результате работы программы:

![Пример 1](fractals/example1.png)

![Пример 2](fractals/example2.png)

![Пример 3](fractals/example3.png)  


Полная коллекция сгенерированных изображений доступна в папке [`fractals`](fractals).

---

### Описание параметров конфигурации

- `threads`: Количество потоков, выделяемых под процесс генерации.

- `height`, `width`: Разрешение выходного изображения.

- `iterations`: Количество итераций, используемых при генерации.

- `symmetry`: Количество симметричных частей фрактала.

- `variations`: Вариационные функции.

- `affine_functions`: Функции аффинного преобразования, описанные через параметры $a, b, c, d, e, f$.

- `format`: Формат сохранения изображения.

### Константы

Также можно изменять некоторые константы в классе [Constants](src/main/java/Constants.java):
- `GAMMA`: Параметр gamma-коррекции
- `BACKGROUND_COLOR`: Цвет фона
- `X_RECT`, `Y_RECT`, `WIDTH_RECT`, `HEIGHT_RECT`: Параметры прямоугольной области, в ней генерируется фрактал


---

## Функции преобразования

Узоры фрактального пламени зависят от комбинации функций и аффинного преобразования. 
Каждой функции можно задать вес и цвет.

### Доступные вариационные функции

- **Heart**

- **Hyperbolic**

- **Sinusoidal**

- **Bent**

- **Diamond**

- **Disc**

- **Ex**

- **Fisheye**

- **Spherical**

- **Spiral**

- **Symmetry**

- **Swirl**

- **Noise**

### Описание аффинных функций

Аффинные функции задаются следующим образом:

Параметры `a`, `b`, `c`, `d`, `e`, `f` определяют масштабирование, поворот, сдвиг 
и другие линейные преобразования.
![formula.png](img%2Fformula.png)

---

## Gamma-коррекция

Сгенерированное изображение улучшается с помощью gamma-коррекции. 
Этот параметр задается в классе `Constants`.

---

## Многопоточность

Программа поддерживает однопоточную и многопоточную генерацию изображений. 
Количество потоков можно настроить через параметр `threads` в конфигурационном файле. 
Рекомендуется устанавливать значение, соответствующее числу ядер процессора 
для оптимальной производительности.

---

**Попробуйте создать свои собственные удивительные фракталы и делитесь ими!**

## Настройка через конфигурационный файл

Конфигурация генерации задаётся в формате JSON. 
Основной файл — [`config.json`](src/main/resources/config.json). 
Пример содержимого:

```json
{
    "threads": 8,
    "height": 4096,
    "width": 4096,
    "iterations": 150000000,
    "symmetry": 12,
    "variations": [
        {
            "name": "Spiral",
            "weight": 0.5,
            "color": "#99DDEE"
        },
        {
            "name": "Spherical",
            "weight": 0.3,
            "color": "#B8E6FF"
        },
        {
            "name": "Diamond",
            "weight": 0.2,
            "color": "#E6F7FF"
        }
    ],
    "affine_functions": [
        {
            "a": 0.6,
            "b": -0.2,
            "c": 0.2,
            "d": 0.6,
            "e": 0.2,
            "f": 0.0,
            "weight": 0.25,
            "color": "#99DDEE"
        },
        {
            "a": 0.4,
            "b": 0.3,
            "c": -0.3,
            "d": 0.4,
            "e": -0.2,
            "f": -0.3,
            "weight": 0.3,
            "color": "#B8E6FF"
        }
    ],
    "format": "png"
}

